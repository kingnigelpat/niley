<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Niley | Tech Appliances</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>

<body>
    <!-- Intro Overlay -->
    <div id="intro-overlay" class="intro-overlay">
        <div class="intro-content">
            <img src="niley-logo-removebg-preview.png" alt="Niley Logo" class="intro-logo">
            <h1 class="intro-text">Welcome to Niley</h1>
            <p class="intro-subtext">Premium Ecommerce Shop for Tech Appliances</p>
        </div>
    </div>

    <nav>
        <a href="#" class="logo-container">
            <img src="niley-logo-removebg-preview.png" alt="Niley Logo" class="logo-img">
            <!-- <span class="logo-text">Niley</span> Optional: Remove text if logo has it -->
        </a>
        <div class="nav-links">
            <button class="nav-btn" onclick="toggleTheme()" style="margin-right: 15px;">
                <i id="theme-icon" class="fas fa-moon"></i>
            </button>
            <button class="nav-btn" onclick="toggleCart()">
                <i class="fas fa-shopping-cart" style="margin-right: 5px;"></i> Cart
                <span id="cart-count" class="badge">0</span>
            </button>
        </div>
    </nav>

    <header class="container">
        <h1>Smart Tech. Smarter Living</h1>
        <p
            style="color: #FF6B6B; font-family: var(--font-heading); font-style: italic; font-size: 1.3rem; margin-bottom: 5px;">
            <i class="fas fa-heart" style="color: #FF6B6B; margin-right: 5px;"></i>It's the season of love <i class="fas fa-heart" style="color: #FF6B6B; margin-right: 5px;"></i>
        </p>
        <p>Elevate your lifestyle with our premium selection of cutting edge appliances.</p>

        <div class="search-container">
            <input type="text" id="search-input" placeholder="Search for products..." onkeyup="searchProducts()">
            <i class="fas fa-search search-icon"></i>
        </div>
    </header>

    <main class="container">
        <div id="product-grid" class="product-grid">
            <!-- Products will be injected here via JS -->
            <div style="grid-column: 1/-1; text-align: center; padding: 50px;">
                <p style="color: var(--text-light);">Loading Collection...</p>
            </div>
        </div>
    </main>

    <div id="cart-modal" class="cart-modal">
        <div class="cart-header">
            <h3>Your Selection</h3>
            <button class="close-cart" onclick="toggleCart()">&times;</button>
        </div>
        <div id="cart-items" class="cart-items">
            <!-- Cart Items injected here -->
            <p style="text-align: center; color: var(--text-light); margin-top: 20px;">Your bag is empty.</p>
        </div>
        <div class="cart-total-section">
            <div style="display: flex; justify-content: space-between; margin-bottom: 15px;">
                <span>Total:</span>
                <span id="cart-total" style="color: var(--accent-color); font-weight: bold;">$0.00</span>
            </div>
            <button class="checkout-btn" onclick="checkout()">
                <i class="fab fa-instagram"></i> Confirm on IG
            </button>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast">Message Copied!</div>

    <!-- Scripts -->
    <script type="module" src="shop.js"></script>
    <script>
        // Simple UI toggle script that doesn't depend on modules
        function toggleCart() {
            document.getElementById('cart-modal').classList.toggle('open');
        }

        function toggleTheme() {
            const body = document.body;
            body.classList.toggle('dark-mode');
            const isDark = body.classList.contains('dark-mode');
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
            updateThemeIcon(isDark);
        }

        function updateThemeIcon(isDark) {
            const icon = document.getElementById('theme-icon');
            if (isDark) {
                icon.classList.remove('fa-moon');
                icon.classList.add('fa-sun');
            } else {
                icon.classList.remove('fa-sun');
                icon.classList.add('fa-moon');
            }
        }

        // Init theme
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'dark') {
            document.body.classList.add('dark-mode');
            updateThemeIcon(true);
        }

        // Intro Animation
        window.addEventListener('load', () => {
            const overlay = document.getElementById('intro-overlay');
            setTimeout(() => {
                overlay.classList.add('fade-out');
            }, 3500); // 3.5 seconds
        });

        // Valentine's Animation
        function createHeart() {
            const heart = document.createElement('div');
            heart.classList.add('heart');
            heart.style.left = Math.random() * 100 + "vw";
            heart.style.animationDuration = Math.random() * 2 + 3 + "s"; // 3-5s
            heart.style.opacity = Math.random() * 0.5 + 0.3;
            // Random pink/red colors
            const colors = ['#FF6B6B', '#FF8787', '#FA5252', '#E03131'];
            const color = colors[Math.floor(Math.random() * colors.length)];
            heart.style.background = color;

            // For pseudo elements, we need a custom property or just simple inline style won't work easily for ::before/::after
            // So let's just stick to one color for simplicity or use CSS variables if needed.
            // Actually, setting style.background works on the main square.
            // We need to set it on before/after too for consistency if we want multicolor.
            // simpler approach: just let them be default pink defined in CSS for now to handle ::before/::after nicely,
            // or just use an SVG/emoji. Let's use emoji for simplicity?
            // No, CSS shape is smoother. sticking to CSS shape defined in style.css.

            document.body.appendChild(heart);

            setTimeout(() => {
                heart.remove();
            }, 5000);
        }

        // Start hearts after intro
        setTimeout(() => {
            setInterval(createHeart, 300);
        }, 3500);

        window.toggleCart = toggleCart; // Expose to window
        window.toggleTheme = toggleTheme;
    </script>
</body>

</html>